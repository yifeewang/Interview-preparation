## js执行堆栈
1. 每次 JavaScript 引擎启动时，它都会创建一个`「全局执行上下文」`，以保存全局对象；
例如，浏览器中的window对象和Node.js中的global对象。JavaScript 使用一个`堆栈数据结构`来处理这两个上下文，也被称为`「执行堆栈」`。

2. 每当你在 JavaScript 中写一个函数，JavaScript 引擎就会创建一个`函数执行上下文`。

## js任务队列
但是，当浏览器发出像HTTP请求这样的`「异步事件」`时会发生什么？JavaScript 引擎是储存执行栈并处理异步事件，还是等待事件完成？

1. JavaScript 引擎在这里做了一些不同的事情：在`「执行堆栈的底部」`，JavaScript 引擎有一个`「队列数据结构」`，也被称为`事件队列Event Queue`。事件队列`「处理异步调用」`。

2. JavaScript 引擎通过等待执行栈清空来处理队列中的项目。所以，每次执行栈清空时，JavaScript 引擎都会检查事件队列，从队列中弹出项目，并处理事件。

>   值得注意的是，只有当「执行栈为空」或者「执行栈中唯一的项目是全局执行上下文」时，JavaScript 引擎才会检查事件队列。

3. 虽然我们称它们为异步事件，但这里有一个微妙的区别：「事件在到达队列时是异步的，但在实际处理时，它们并不是真正的异步」。

